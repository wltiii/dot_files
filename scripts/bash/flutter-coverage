#
# Generates Flutter coverage statistics and opens results in browser
#
#
# USAGE: run from project root

    case "$OSTYPE" in
      darwin*)
             echo "Running flutter-coverage on MAC"
            # run flutter coverage (lcov)
            flutter test --coverage
            # generate html
            genhtml coverage/lcov.info -o coverage/html
            # launch firefox browser
            open -a /Applications/Firefox.app coverage/html/index.html
            ;;
      linux*)
             echo "Running flutter-coverage on LINUX"
            # run flutter coverage (lcov)
            flutter test --coverage
            # generate html
            genhtml coverage/lcov.info -o coverage/html
            # launch firefox browser
            firefox coverage/html/index.html
            ;;
      solaris*) echo "SOLARIS - note yet implemented" ;;
      bsd*)     echo "BSD - note yet implemented" ;;
      msys*)    echo "WINDOWS - note yet implemented" ;;
      cygwin*)  echo "ALSO WINDOWS - note yet implemented" ;;
      *)        echo "unknown: $OSTYPE" ;;
    esac


# run flutter coverage (lcov)
# flutter test --coverage
# generate html
# genhtml coverage/lcov.info -o coverage/html
# launch firefox browser
# firefox coverage/html/index.html
